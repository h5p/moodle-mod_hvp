define("mod_hvp/communicator",[],(function(){var H5PEmbedCommunicator=function(){this._actionHandlers={},this.registerEventListeners()};return H5PEmbedCommunicator.prototype._actionHandlers={},H5PEmbedCommunicator.prototype.on=function(action,handler){this._actionHandlers[action]=handler},H5PEmbedCommunicator.prototype.send=function(action,data){void 0===data&&(data={}),data.context="h5p",data.action=action,window.parent.postMessage(data,"*")},H5PEmbedCommunicator.prototype.registerEventListeners=function(){var self=this;window.addEventListener("message",(function(event){window.parent===event.source&&"h5p"===event.data.context&&void 0!==self._actionHandlers[event.data.action]&&self._actionHandlers[event.data.action](event.data)}),!1)},new H5PEmbedCommunicator}));

//# sourceMappingURL=communicator.min.js.map